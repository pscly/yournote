## [2026-01-25 11:21] - 任务：补齐 Docker 部署（前端+后端）
- 原始需求：为项目补齐 Dockerfile + docker-compose；不要引入 PostgreSQL 镜像；让服务器在远端可直接 `docker compose` 部署与更新。
- 实现目标/逻辑：
  - 后端：基于 Python 3.13 + `uv.lock` 构建镜像，使用 `uv sync` 安装依赖；运行 `python backend/run.py`（生产默认关闭 reload）。
  - 前端：Vite 构建产物用 Nginx 提供静态服务，并在 Nginx 侧把 `/api`、`/docs` 等转发到后端容器，保证浏览器同源访问（前端默认 `API_BASE_URL=/api`）。
  - 数据持久化：SQLite DB 与访问日志目录通过 volume 绑定到宿主机（`./data`、`./logs`），更新镜像不丢数据。
- 核心变更：新增 `docker-compose.yml`、`backend/Dockerfile`、`frontend/Dockerfile`、`frontend/nginx.conf`、`.dockerignore` 等部署相关文件。
- 遗留/约束：
  - 不包含 PostgreSQL 镜像；如需切换到远程 PG，仅通过 `.env`/环境变量配置 `DATABASE_URL`。
  - 服务器更新流程：`git pull` 后执行 `docker compose up -d --build`（或 `docker-compose up -d --build`）。
