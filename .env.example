# 说明：
# - 本项目会优先读取仓库根目录的 `.env`（即使你是在 backend/ 或 frontend/ 目录启动）。
# - `.env` 的优先级最高：会覆盖同名的系统环境变量。

# =========================
# 端口 / 启动配置
# =========================

# 后端监听地址与端口（backend/run.py 使用）
BACKEND_HOST=0.0.0.0
BACKEND_PORT=31012
BACKEND_RELOAD=true

# 前端开发服务端口（frontend/vite.config.js、frontend/playwright.config.js 使用）
FRONTEND_PORT=31011

# =========================
# 数据库配置
# =========================

# 推荐：只配置 SQLITE_DB_PATH（后端会自动生成 DATABASE_URL）
# - 相对路径会以仓库根目录为基准
SQLITE_DB_PATH=./yournote.db

# 高级：直接指定完整连接串（会覆盖 SQLITE_DB_PATH）
# DATABASE_URL=sqlite+aiosqlite:///./yournote.db
# DATABASE_URL=postgresql+asyncpg://username:password@localhost:5432/yournote

# =========================
# API 配置
# =========================
API_PREFIX=/api
DEBUG=true

# =========================
# CORS（跨域）
# =========================
# 逗号分隔；默认 "*" 表示允许所有来源（此时后端会强制关闭 allow_credentials）
# 示例：CORS_ALLOW_ORIGINS=http://localhost:31011,http://127.0.0.1:31011
CORS_ALLOW_ORIGINS=*
# 是否允许携带凭证（Cookie 等）。当 CORS_ALLOW_ORIGINS="*" 时无效（会被强制关闭）
CORS_ALLOW_CREDENTIALS=false
# CORS_ALLOW_METHODS=*
# CORS_ALLOW_HEADERS=*

# =========================
# 同步配置
# =========================
# 启动时是否触发一次“全账号同步”（后台执行，不阻塞启动）
SYNC_ON_STARTUP=true
SYNC_INTERVAL_MINUTES=20
# 兼容旧配置（小时）：
# SYNC_INTERVAL_HOURS=6

# =========================
# 访问日志（按天写入本地 logs/）
# =========================
# 是否启用访问日志
ACCESS_LOG_ENABLED=true
# 日志目录（相对路径以仓库根目录为基准）
ACCESS_LOG_DIR=logs
# 逗号分隔：完全匹配 path（不含 query）时跳过记录
ACCESS_LOG_IGNORE_PATHS=/health,/api/access-logs/pageview,/api/access-logs/file
# 是否记录 querystring（建议默认 false，避免无意间写入敏感参数）
ACCESS_LOG_INCLUDE_QUERY=false
